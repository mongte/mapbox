{"remainingRequest":"/Users/dokyun.kim/mapbox-pwa/node_modules/babel-loader/lib/index.js!/Users/dokyun.kim/mapbox-pwa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/dokyun.kim/mapbox-pwa/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/dokyun.kim/mapbox-pwa/node_modules/vue-mapbox/src/components/UI/Marker.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/dokyun.kim/mapbox-pwa/node_modules/vue-mapbox/src/components/UI/Marker.vue","mtime":499162500000},{"path":"/Users/dokyun.kim/mapbox-pwa/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dokyun.kim/mapbox-pwa/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dokyun.kim/mapbox-pwa/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dokyun.kim/mapbox-pwa/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2Rva3l1bi5raW0vbWFwYm94LXB3YS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcy5qcyI7CmltcG9ydCB3aXRoRXZlbnRzIGZyb20gIi4uLy4uL2xpYi93aXRoRXZlbnRzIjsKaW1wb3J0IHdpdGhTZWxmRXZlbnRzIGZyb20gIi4vd2l0aFNlbGZFdmVudHMiOwp2YXIgbWFya2VyRXZlbnRzID0gewogIGRyYWc6ICJkcmFnIiwKICBkcmFnc3RhcnQ6ICJkcmFnc3RhcnQiLAogIGRyYWdlbmQ6ICJkcmFnZW5kIgp9Owp2YXIgbWFya2VyRE9NRXZlbnRzID0gewogIGNsaWNrOiAiY2xpY2siLAogIG1vdXNlZW50ZXI6ICJtb3VzZWVudGVyIiwKICBtb3VzZWxlYXZlOiAibW91c2VsZWF2ZSIKfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNYXBNYXJrZXIiLAogIG1peGluczogW3dpdGhFdmVudHMsIHdpdGhTZWxmRXZlbnRzXSwKICBpbmplY3Q6IFsibWFwYm94IiwgIm1hcCJdLAogIHByb3ZpZGU6IGZ1bmN0aW9uIHByb3ZpZGUoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICByZXR1cm4gewogICAgICBnZXQgbWFya2VyKCkgewogICAgICAgIHJldHVybiBzZWxmLm1hcmtlcjsKICAgICAgfQoKICAgIH07CiAgfSwKICBwcm9wczogewogICAgLy8gbWFwYm94IG1hcmtlciBvcHRpb25zCiAgICBvZmZzZXQ6IHsKICAgICAgdHlwZTogW09iamVjdCwgQXJyYXldLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gWzAsIDBdOwogICAgICB9CiAgICB9LAogICAgY29vcmRpbmF0ZXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgY29sb3I6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgYW5jaG9yOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogImNlbnRlciIKICAgIH0sCiAgICBkcmFnZ2FibGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbml0aWFsOiB0cnVlLAogICAgICBtYXJrZXI6IHVuZGVmaW5lZAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBjb29yZGluYXRlczogZnVuY3Rpb24gY29vcmRpbmF0ZXMobG5nTGF0KSB7CiAgICAgIGlmICh0aGlzLmluaXRpYWwpIHJldHVybjsKICAgICAgdGhpcy5tYXJrZXIuc2V0TG5nTGF0KGxuZ0xhdCk7CiAgICB9LAogICAgZHJhZ2dhYmxlOiBmdW5jdGlvbiBkcmFnZ2FibGUobmV4dCkgewogICAgICBpZiAodGhpcy5pbml0aWFsKSByZXR1cm47CiAgICAgIHRoaXMubWFya2VyLnNldERyYWdnYWJsZShuZXh0KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBtYXJrZXJPcHRpb25zID0gX29iamVjdFNwcmVhZCh7fSwgdGhpcy4kcHJvcHMpOwoKICAgIGlmICh0aGlzLiRzbG90cy5tYXJrZXIpIHsKICAgICAgbWFya2VyT3B0aW9ucy5lbGVtZW50ID0gdGhpcy4kc2xvdHMubWFya2VyWzBdLmVsbTsKICAgIH0KCiAgICB0aGlzLm1hcmtlciA9IG5ldyB0aGlzLm1hcGJveC5NYXJrZXIobWFya2VyT3B0aW9ucyk7CgogICAgaWYgKHRoaXMuJGxpc3RlbmVyc1sidXBkYXRlOmNvb3JkaW5hdGVzIl0pIHsKICAgICAgdGhpcy5tYXJrZXIub24oImRyYWdlbmQiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICB2YXIgbmV3Q29vcmRpbmF0ZXM7CgogICAgICAgIGlmIChfdGhpcy5jb29yZGluYXRlcyBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgICAgICBuZXdDb29yZGluYXRlcyA9IFtldmVudC50YXJnZXQuX2xuZ0xhdC5sbmcsIGV2ZW50LnRhcmdldC5fbG5nTGF0LmxhdF07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG5ld0Nvb3JkaW5hdGVzID0gZXZlbnQudGFyZ2V0Ll9sbmdMYXQ7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy4kZW1pdCgidXBkYXRlOmNvb3JkaW5hdGVzIiwgbmV3Q29vcmRpbmF0ZXMpOwogICAgICB9KTsKICAgIH0KCiAgICB2YXIgZXZlbnROYW1lcyA9IE9iamVjdC5rZXlzKG1hcmtlckV2ZW50cyk7CiAgICB0aGlzLiRfYmluZFNlbGZFdmVudHMoZXZlbnROYW1lcywgdGhpcy5tYXJrZXIpOwogICAgdGhpcy5pbml0aWFsID0gZmFsc2U7CiAgICB0aGlzLiRfYWRkTWFya2VyKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgaWYgKHRoaXMubWFwICE9PSB1bmRlZmluZWQgJiYgdGhpcy5tYXJrZXIgIT09IHVuZGVmaW5lZCkgewogICAgICB0aGlzLm1hcmtlci5yZW1vdmUoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgICRfYWRkTWFya2VyOiBmdW5jdGlvbiAkX2FkZE1hcmtlcigpIHsKICAgICAgdGhpcy5tYXJrZXIuc2V0TG5nTGF0KHRoaXMuY29vcmRpbmF0ZXMpLmFkZFRvKHRoaXMubWFwKTsKICAgICAgdGhpcy4kX2JpbmRNYXJrZXJET01FdmVudHMoKTsKICAgICAgdGhpcy4kX2VtaXRFdmVudCgiYWRkZWQiLCB7CiAgICAgICAgbWFya2VyOiB0aGlzLm1hcmtlcgogICAgICB9KTsKICAgIH0sCiAgICAkX2VtaXRTZWxmRXZlbnQ6IGZ1bmN0aW9uICRfZW1pdFNlbGZFdmVudChldmVudCkgewogICAgICB0aGlzLiRfZW1pdE1hcEV2ZW50KGV2ZW50LCB7CiAgICAgICAgbWFya2VyOiB0aGlzLm1hcmtlcgogICAgICB9KTsKICAgIH0sCiAgICAkX2JpbmRNYXJrZXJET01FdmVudHM6IGZ1bmN0aW9uICRfYmluZE1hcmtlckRPTUV2ZW50cygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBPYmplY3Qua2V5cyh0aGlzLiRsaXN0ZW5lcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIGlmIChPYmplY3QudmFsdWVzKG1hcmtlckRPTUV2ZW50cykuaW5jbHVkZXMoa2V5KSkgewogICAgICAgICAgX3RoaXMyLm1hcmtlci5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGtleSwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgIF90aGlzMi4kX2VtaXRTZWxmRXZlbnQoZXZlbnQpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgICAgdGhpcy5tYXJrZXIucmVtb3ZlKCk7CiAgICAgIHRoaXMuJF9lbWl0RXZlbnQoInJlbW92ZWQiKTsKICAgIH0sCiAgICB0b2dnbGVQb3B1cDogZnVuY3Rpb24gdG9nZ2xlUG9wdXAoKSB7CiAgICAgIHJldHVybiB0aGlzLm1hcmtlci50b2dnbGVQb3B1cCgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/dokyun.kim/mapbox-pwa/node_modules/vue-mapbox/src/components/UI/Marker.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div style=\"display: none\">\n    <!-- slot for custom marker -->\n    <slot name=\"marker\" />\n    <!-- slot for popup -->\n    <slot v-if=\"marker\" />\n  </div>\n</template>\n\n<script>\nimport withEvents from \"../../lib/withEvents\";\nimport withSelfEvents from \"./withSelfEvents\";\n\nconst markerEvents = {\n  drag: \"drag\",\n  dragstart: \"dragstart\",\n  dragend: \"dragend\"\n};\n\nconst markerDOMEvents = {\n  click: \"click\",\n  mouseenter: \"mouseenter\",\n  mouseleave: \"mouseleave\"\n};\n\nexport default {\n  name: \"MapMarker\",\n  mixins: [withEvents, withSelfEvents],\n\n  inject: [\"mapbox\", \"map\"],\n\n  provide() {\n    const self = this;\n    return {\n      get marker() {\n        return self.marker;\n      }\n    };\n  },\n\n  props: {\n    // mapbox marker options\n    offset: {\n      type: [Object, Array],\n      default: () => [0, 0]\n    },\n    coordinates: {\n      type: Array,\n      required: true\n    },\n    color: {\n      type: String\n    },\n    anchor: {\n      type: String,\n      default: \"center\"\n    },\n    draggable: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      initial: true,\n      marker: undefined\n    };\n  },\n\n  watch: {\n    coordinates(lngLat) {\n      if (this.initial) return;\n      this.marker.setLngLat(lngLat);\n    },\n    draggable(next) {\n      if (this.initial) return;\n      this.marker.setDraggable(next);\n    }\n  },\n\n  mounted() {\n    const markerOptions = {\n      ...this.$props\n    };\n    if (this.$slots.marker) {\n      markerOptions.element = this.$slots.marker[0].elm;\n    }\n    this.marker = new this.mapbox.Marker(markerOptions);\n\n    if (this.$listeners[\"update:coordinates\"]) {\n      this.marker.on(\"dragend\", event => {\n        let newCoordinates;\n        if (this.coordinates instanceof Array) {\n          newCoordinates = [event.target._lngLat.lng, event.target._lngLat.lat];\n        } else {\n          newCoordinates = event.target._lngLat;\n        }\n        this.$emit(\"update:coordinates\", newCoordinates);\n      });\n    }\n\n    const eventNames = Object.keys(markerEvents);\n    this.$_bindSelfEvents(eventNames, this.marker);\n\n    this.initial = false;\n    this.$_addMarker();\n  },\n\n  beforeDestroy() {\n    if (this.map !== undefined && this.marker !== undefined) {\n      this.marker.remove();\n    }\n  },\n\n  methods: {\n    $_addMarker() {\n      this.marker.setLngLat(this.coordinates).addTo(this.map);\n      this.$_bindMarkerDOMEvents();\n      this.$_emitEvent(\"added\", { marker: this.marker });\n    },\n\n    $_emitSelfEvent(event) {\n      this.$_emitMapEvent(event, { marker: this.marker });\n    },\n\n    $_bindMarkerDOMEvents() {\n      Object.keys(this.$listeners).forEach(key => {\n        if (Object.values(markerDOMEvents).includes(key)) {\n          this.marker._element.addEventListener(key, event => {\n            this.$_emitSelfEvent(event);\n          });\n        }\n      });\n    },\n\n    remove() {\n      this.marker.remove();\n      this.$_emitEvent(\"removed\");\n    },\n\n    togglePopup() {\n      return this.marker.togglePopup();\n    }\n  }\n};\n</script>\n"],"sourceRoot":""}]}