{"remainingRequest":"/Users/dokyun.kim/mapbox-pwa/node_modules/babel-loader/lib/index.js!/Users/dokyun.kim/mapbox-pwa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/dokyun.kim/mapbox-pwa/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/dokyun.kim/mapbox-pwa/node_modules/vue-mapbox/src/components/UI/Popup.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/dokyun.kim/mapbox-pwa/node_modules/vue-mapbox/src/components/UI/Popup.vue","mtime":499162500000},{"path":"/Users/dokyun.kim/mapbox-pwa/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dokyun.kim/mapbox-pwa/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dokyun.kim/mapbox-pwa/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dokyun.kim/mapbox-pwa/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCB3aXRoRXZlbnRzIGZyb20gIi4uLy4uL2xpYi93aXRoRXZlbnRzIjsKaW1wb3J0IHdpdGhTZWxmRXZlbnRzIGZyb20gIi4vd2l0aFNlbGZFdmVudHMiOwp2YXIgcG9wdXBFdmVudHMgPSB7CiAgb3BlbjogIm9wZW4iLAogIGNsb3NlOiAiY2xvc2UiCn07Ci8qKgogKiBQb3B1cCBjb21wb25lbnQuCiAqIEBzZWUgU2VlIFtNYXBib3ggR2wgSlMgUG9wdXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2FwaS8jcG9wdXApCiAqLwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQb3B1cCIsCiAgbWl4aW5zOiBbd2l0aEV2ZW50cywgd2l0aFNlbGZFdmVudHNdLAogIGluamVjdDogewogICAgbWFwYm94OiB7CiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBtYXA6IHsKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIG1hcmtlcjogewogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICBwcm9wczogewogICAgLyoqCiAgICAgKiBJZiBgdHJ1ZWAsIGEgY2xvc2UgYnV0dG9uIHdpbGwgYXBwZWFyIGluIHRoZSB0b3AgcmlnaHQgY29ybmVyIG9mIHRoZSBwb3B1cC4KICAgICAqIE1hcGJveCBHTCBwb3B1cCBvcHRpb24uCiAgICAgKi8KICAgIGNsb3NlQnV0dG9uOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCgogICAgLyoqCiAgICAgKiBNYXBib3ggR0wgcG9wdXAgb3B0aW9uLgogICAgICogSWYgYHRydWVgLCB0aGUgcG9wdXAgd2lsbCBjbG9zZWQgd2hlbiB0aGUgbWFwIGlzIGNsaWNrZWQuIC4KICAgICAqLwogICAgY2xvc2VPbkNsaWNrOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCgogICAgLyoqCiAgICAgKiBNYXBib3ggR0wgcG9wdXAgb3B0aW9uLgogICAgICogQSBzdHJpbmcgaW5kaWNhdGluZyB0aGUgcG9wdXAncyBsb2NhdGlvbiByZWxhdGl2ZSB0byB0aGUgY29vcmRpbmF0ZSBzZXQuCiAgICAgKiBJZiB1bnNldCB0aGUgYW5jaG9yIHdpbGwgYmUgZHluYW1pY2FsbHkgc2V0IHRvIGVuc3VyZSB0aGUgcG9wdXAgZmFsbHMgd2l0aGluIHRoZSBtYXAgY29udGFpbmVyIHdpdGggYSBwcmVmZXJlbmNlIGZvciAnYm90dG9tJyAuCiAgICAgKiAgJ3RvcCcsICdib3R0b20nLCAnbGVmdCcsICdyaWdodCcsICd0b3AtbGVmdCcsICd0b3AtcmlnaHQnLCAnYm90dG9tLWxlZnQnLCAnYm90dG9tLXJpZ2h0JwogICAgICovCiAgICBhbmNob3I6IHsKICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsdWUpIHsKICAgICAgICB2YXIgYWxsb3dlZFZhbHVlcyA9IFsidG9wIiwgImJvdHRvbSIsICJsZWZ0IiwgInJpZ2h0IiwgInRvcC1sZWZ0IiwgInRvcC1yaWdodCIsICJib3R0b20tbGVmdCIsICJib3R0b20tcmlnaHQiXTsKICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAic3RyaW5nIiAmJiBhbGxvd2VkVmFsdWVzLmluY2x1ZGVzKHZhbHVlKTsKICAgICAgfSwKICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICB9LAoKICAgIC8qKgogICAgICogTWFwYm94IEdMIHBvcHVwIG9wdGlvbi4KICAgICAqIEEgcGl4ZWwgb2Zmc2V0IGFwcGxpZWQgdG8gdGhlIHBvcHVwJ3MgbG9jYXRpb24KICAgICAqIGEgc2luZ2xlIG51bWJlciBzcGVjaWZ5aW5nIGEgZGlzdGFuY2UgZnJvbSB0aGUgcG9wdXAncyBsb2NhdGlvbgogICAgICogYSBQb2ludExpa2Ugc3BlY2lmeWluZyBhIGNvbnN0YW50IG9mZnNldAogICAgICogYW4gb2JqZWN0IG9mIFBvaW50cyBzcGVjaWZpbmcgYW4gb2Zmc2V0IGZvciBlYWNoIGFuY2hvciBwb3NpdGlvbiBOZWdhdGl2ZSBvZmZzZXRzIGluZGljYXRlIGxlZnQgYW5kIHVwLgogICAgICovCiAgICBvZmZzZXQ6IHsKICAgICAgdHlwZTogW051bWJlciwgT2JqZWN0LCBBcnJheV0sCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbMCwgMF07CiAgICAgIH0KICAgIH0sCiAgICBjb29yZGluYXRlczogewogICAgICB0eXBlOiBBcnJheQogICAgfSwKCiAgICAvKioKICAgICAqIENvbXBvbmVudCBvcHRpb24uCiAgICAgKiBJZiBgdHJ1ZWAsIHBvcHVwIHRyZWF0cyBkYXRhIGluIGRlYWZ1bHQgc2xvdCBhcyBwbGFpbiB0ZXh0CiAgICAgKi8KICAgIG9ubHlUZXh0OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgc2hvd2VkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5pdGlhbDogdHJ1ZSwKICAgICAgcG9wdXA6IHVuZGVmaW5lZAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBvcGVuOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIGlmICh0aGlzLnBvcHVwICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnBvcHVwLmlzT3BlbigpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICAgIGlmICh0aGlzLm1hcCAmJiB0aGlzLnBvcHVwKSB7CiAgICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgICAgdGhpcy5wb3B1cC5yZW1vdmUoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMucG9wdXAuYWRkVG8odGhpcy5tYXApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGNvb3JkaW5hdGVzOiBmdW5jdGlvbiBjb29yZGluYXRlcyhsbmdMYXQpIHsKICAgICAgaWYgKHRoaXMuaW5pdGlhbCkgcmV0dXJuOwogICAgICB0aGlzLnBvcHVwLnNldExuZ0xhdChsbmdMYXQpOwogICAgfSwKICAgIHNob3dlZDogZnVuY3Rpb24gc2hvd2VkKG5leHQsIHByZXYpIHsKICAgICAgaWYgKG5leHQgIT09IHByZXYpIHsKICAgICAgICB0aGlzLm9wZW4gPSBuZXh0OwoKICAgICAgICBpZiAodGhpcy5tYXJrZXIpIHsKICAgICAgICAgIHRoaXMubWFya2VyLnRvZ2dsZVBvcHVwKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5wb3B1cCA9IG5ldyB0aGlzLm1hcGJveC5Qb3B1cCh0aGlzLiRwcm9wcyk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy4kX2FkZFBvcHVwKCk7CiAgICB0aGlzLmluaXRpYWwgPSBmYWxzZTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBpZiAodGhpcy5tYXApIHsKICAgICAgdGhpcy5wb3B1cC5yZW1vdmUoKTsKICAgICAgdGhpcy4kX2VtaXRFdmVudCgicmVtb3ZlZCIpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgJF9hZGRQb3B1cDogZnVuY3Rpb24gJF9hZGRQb3B1cCgpIHsKICAgICAgdGhpcy5wb3B1cCA9IG5ldyB0aGlzLm1hcGJveC5Qb3B1cCh0aGlzLiRwcm9wcyk7CgogICAgICBpZiAodGhpcy5jb29yZGluYXRlcyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5wb3B1cC5zZXRMbmdMYXQodGhpcy5jb29yZGluYXRlcyk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLiRzbG90cy5kZWZhdWx0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAodGhpcy5vbmx5VGV4dCkgewogICAgICAgICAgaWYgKHRoaXMuJHNsb3RzLmRlZmF1bHRbMF0uZWxtLm5vZGVUeXBlID09PSAzKSB7CiAgICAgICAgICAgIHZhciB0bXBFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICAgICAgdG1wRWwuYXBwZW5kQ2hpbGQodGhpcy4kc2xvdHMuZGVmYXVsdFswXS5lbG0pOwogICAgICAgICAgICB0aGlzLnBvcHVwLnNldFRleHQodG1wRWwuaW5uZXJUZXh0KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMucG9wdXAuc2V0VGV4dCh0aGlzLiRzbG90cy5kZWZhdWx0WzBdLmVsbS5pbm5lclRleHQpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnBvcHVwLnNldERPTUNvbnRlbnQodGhpcy4kc2xvdHMuZGVmYXVsdFswXS5lbG0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy4kX2JpbmRTZWxmRXZlbnRzKE9iamVjdC5rZXlzKHBvcHVwRXZlbnRzKSwgdGhpcy5wb3B1cCk7CiAgICAgIHRoaXMuJF9lbWl0RXZlbnQoImFkZGVkIiwgewogICAgICAgIHBvcHVwOiB0aGlzLnBvcHVwCiAgICAgIH0pOwoKICAgICAgaWYgKHRoaXMubWFya2VyKSB7CiAgICAgICAgdGhpcy5tYXJrZXIuc2V0UG9wdXAodGhpcy5wb3B1cCk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNob3dlZCkgewogICAgICAgIHRoaXMub3BlbiA9IHRydWU7CgogICAgICAgIGlmICh0aGlzLm1hcmtlcikgewogICAgICAgICAgdGhpcy5tYXJrZXIudG9nZ2xlUG9wdXAoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAkX2VtaXRTZWxmRXZlbnQ6IGZ1bmN0aW9uICRfZW1pdFNlbGZFdmVudChldmVudCkgewogICAgICB0aGlzLiRfZW1pdE1hcEV2ZW50KGV2ZW50LCB7CiAgICAgICAgcG9wdXA6IHRoaXMucG9wdXAKICAgICAgfSk7CiAgICB9LAogICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7CiAgICAgIHRoaXMucG9wdXAucmVtb3ZlKCk7CiAgICAgIHRoaXMuJF9lbWl0RXZlbnQoInJlbW92ZSIsIHsKICAgICAgICBwb3B1cDogdGhpcy5wb3B1cAogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/dokyun.kim/mapbox-pwa/node_modules/vue-mapbox/src/components/UI/Popup.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div style=\"display: none\">\n    <!-- @slot Slot for popup content -->\n    <slot />\n  </div>\n</template>\n\n<script>\nimport withEvents from \"../../lib/withEvents\";\nimport withSelfEvents from \"./withSelfEvents\";\n\nconst popupEvents = {\n  open: \"open\",\n  close: \"close\"\n};\n\n/**\n * Popup component.\n * @see See [Mapbox Gl JS Popup](https://www.mapbox.com/mapbox-gl-js/api/#popup)\n */\nexport default {\n  name: \"Popup\",\n  mixins: [withEvents, withSelfEvents],\n\n  inject: {\n    mapbox: {\n      default: null\n    },\n    map: {\n      default: null\n    },\n    marker: {\n      default: null\n    }\n  },\n\n  props: {\n    /**\n     * If `true`, a close button will appear in the top right corner of the popup.\n     * Mapbox GL popup option.\n     */\n    closeButton: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Mapbox GL popup option.\n     * If `true`, the popup will closed when the map is clicked. .\n     */\n    closeOnClick: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Mapbox GL popup option.\n     * A string indicating the popup's location relative to the coordinate set.\n     * If unset the anchor will be dynamically set to ensure the popup falls within the map container with a preference for 'bottom' .\n     *  'top', 'bottom', 'left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right'\n     */\n    anchor: {\n      validator(value) {\n        let allowedValues = [\n          \"top\",\n          \"bottom\",\n          \"left\",\n          \"right\",\n          \"top-left\",\n          \"top-right\",\n          \"bottom-left\",\n          \"bottom-right\"\n        ];\n        return typeof value === \"string\" && allowedValues.includes(value);\n      },\n      default: undefined\n    },\n    /**\n     * Mapbox GL popup option.\n     * A pixel offset applied to the popup's location\n     * a single number specifying a distance from the popup's location\n     * a PointLike specifying a constant offset\n     * an object of Points specifing an offset for each anchor position Negative offsets indicate left and up.\n     */\n    offset: {\n      type: [Number, Object, Array],\n      default: () => [0, 0]\n    },\n    coordinates: {\n      type: Array\n    },\n\n    /**\n     * Component option.\n     * If `true`, popup treats data in deafult slot as plain text\n     */\n    onlyText: {\n      type: Boolean,\n      default: false\n    },\n\n    showed: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      initial: true,\n      popup: undefined\n    };\n  },\n\n  computed: {\n    open: {\n      get() {\n        if (this.popup !== undefined) {\n          return this.popup.isOpen();\n        }\n        return false;\n      },\n      set(value) {\n        if (this.map && this.popup) {\n          if (value) {\n            this.popup.remove();\n          } else {\n            this.popup.addTo(this.map);\n          }\n        }\n      }\n    }\n  },\n\n  watch: {\n    coordinates(lngLat) {\n      if (this.initial) return;\n      this.popup.setLngLat(lngLat);\n    },\n\n    showed(next, prev) {\n      if (next !== prev) {\n        this.open = next;\n        if (this.marker) {\n          this.marker.togglePopup();\n        }\n      }\n    }\n  },\n\n  created() {\n    this.popup = new this.mapbox.Popup(this.$props);\n  },\n\n  mounted() {\n    this.$_addPopup();\n    this.initial = false;\n  },\n\n  beforeDestroy() {\n    if (this.map) {\n      this.popup.remove();\n      this.$_emitEvent(\"removed\");\n    }\n  },\n\n  methods: {\n    $_addPopup() {\n      this.popup = new this.mapbox.Popup(this.$props);\n      if (this.coordinates !== undefined) {\n        this.popup.setLngLat(this.coordinates);\n      }\n      if (this.$slots.default !== undefined) {\n        if (this.onlyText) {\n          if (this.$slots.default[0].elm.nodeType === 3) {\n            let tmpEl = document.createElement(\"span\");\n            tmpEl.appendChild(this.$slots.default[0].elm);\n            this.popup.setText(tmpEl.innerText);\n          } else {\n            this.popup.setText(this.$slots.default[0].elm.innerText);\n          }\n        } else {\n          this.popup.setDOMContent(this.$slots.default[0].elm);\n        }\n      }\n\n      this.$_bindSelfEvents(Object.keys(popupEvents), this.popup);\n\n      this.$_emitEvent(\"added\", { popup: this.popup });\n\n      if (this.marker) {\n        this.marker.setPopup(this.popup);\n      }\n      if (this.showed) {\n        this.open = true;\n\n        if (this.marker) {\n          this.marker.togglePopup();\n        }\n      }\n    },\n\n    $_emitSelfEvent(event) {\n      this.$_emitMapEvent(event, { popup: this.popup });\n    },\n\n    remove() {\n      this.popup.remove();\n      this.$_emitEvent(\"remove\", { popup: this.popup });\n    }\n  }\n};\n</script>\n"],"sourceRoot":""}]}